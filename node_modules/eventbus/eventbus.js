/*
 * Eventbus
 * Author: Olliver Mattsson (EOLLIMA)
 */

define(function() {
	var listeners = [];
	return {
		addListener: function(event, callback) {
			listeners.push({event:event, callback:callback});
		},
		removeListener: function(event, callback) {
            var ids = [];
			for(i = 0; i < listeners.length; i++) {
				if(listeners[i].event == event) {
					listeners.splice(i,1);
                    i--;
				}
			}
		},
		fire: function(event, data) {
			listeners.forEach(function(o) {
				if(o.event == event){
					o.callback(data);
				}
			});
		}
	};
})